<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

  <bean id="serverConnection" 
        class="pivotal.fire.tools.firerda.server.ConnectionFactory" 
        factory-method="getFireConnection" scope="singleton">
  </bean>
  
  <bean id="query1" class="pivotal.fire.tools.firerda.spring.queries.GenericQuery">
    <property name="MBeanName">
      <value>GemFire:service=Region,name=/SYSSTAT,type=Member,member=127.0.0.1(4098)-30181</value>
    </property>
    <property name="nukedAttributes">
      <list>
        <value>RegionType</value>  
      </list>
    </property>
  </bean>

  <bean id="query2" class="pivotal.fire.tools.firerda.spring.queries.GenericQuery">
    <property name="MBeanName">
      <value>com.vmware.sqlfire.internal:type=JDBC,system=c013800d-0141-a213-1a80-000004253380</value>
    </property>
  </bean>
   
  <!--  
    This defines the Invoker object, which gets passed 
    a reference to the ServerConnection AND the list of queries
  -->
  <bean id="queryInvoker" class="pivotal.fire.tools.firerda.spring.QueryInvoker">
    <property name="serverConnection" ref="serverConnection"/>
    <property name="rdaQueries">
      <list>
        <ref bean="query1"/>
        <ref bean="query2"/>
      </list>
    </property>
  </bean> 
  
  <!--  
   Bean used to list of MBeans available for use
   -->
  <bean id="showMBeans" class="pivotal.fire.tools.firerda.spring.MBeanViewer">
    <property name="serverConnection" ref="serverConnection"/>
  </bean>
  
</beans>
